\section{Core library} \label{Sprint3_SecCoreLibrary}

\textit{This section goes over the core library user story. Where we found solutions to the three features needed in order to make to apps standalone.}

\subsection{Pictosearch}
As part of the core library collaboration, our user story was to make pictosearch a part of the core library. Pictosearch should be implemented in a way which would make it easy to update the code with code from the pictosearch app, because a group were still working on it. This was done by using the code from the pictosearch app, to make an new activity which could be started from any other activity. This would ensure an easy implementation for the apps that used the old pictosearch app. Since the code base is exactly the same as for the pictosearch app, the Core library can easily be updated by copying the pictosearch app code into the Core library.

\subsection{Download Pictograms}
An essential part of the Core library is the ability to download pictograms from a server database to a local database, so that pictosearch has some pictograms to search through without having to be connected to the internet. The first idea was to reuse the download functionality implemented in the launcher, which both creates the the local database and downloads the pictograms. It turned out that the part of downloading pictograms was trivial but there were a big problem when it came to making a local database, which could be managed by multiple apps.

\subsubsection{Launcher}
When the launcher first creates a local database, it has ownership over that database. This means that other apps can not access the database, and when the launcher is uninstalled that database is deleted. To allow other apps to get data from the database, the launcher has what is called a content provider. The content provider can then access the database for the other apps if these apps have permission, which were set when the content provider was declared.

\subsubsection{Solution}
The optimal solution would be to have one local database which could be accessed by multiple apps, instead of having every single Giraf app make its own database, which would take up a lot of space on a smartphone or tablet where multiple Giraf apps were installed.

The major problem with having a shared database is that only one app can have ownership over that database and that the database is deleted when that app is uninstalled. The simple solution to this problem would be to make the core library a service app like pictosearch was before it became a library, this way the core library could have a content provider which could be accessed by all the apps that needed pictograms, and then the content provider could be removed from the launcher, since the launcher does not use pictograms anyway and then there would only be one place to maintain access to the local database. 
This solution would solve all the problems there were with the database. The only problem is that it would give the same problems as pictosearch had before it became a library. Apps would then never be truly standalone, and if the core library is not installed none of the apps using pictograms would work. Though this is an easy solution for the developers, it is not a smart or easy solution for the users.

The idea of having a shared app which could access the database is not a good solution, but having a shared database is still the goal. Since Android has no way of implementing a shared database, it would be of interest to look at alternative data storage options. The other data storage options Android has is file storage. With file storage an application can create, update, and delete files on internal memory, tablet memory, and/or external memory, SD card. Unlike the database, file storage allows an app to store data in a public location which would allow other apps to access that data. And when apps are uninstalled, the data is not deleted. This solves the problem with data sharing. But using this solution also means a loss in functionality that the database has, like the ACID properties, which is a set of properties to guarantee that the database is reliable. The loss of these properties opens up for a whole new set of problems when it comes to data management. One of these challenges was to find out, if there was any way to secure data when concurrent access to the data is allowed. These are just some of the problems that could occur when going from database to data files.
These problems will not be described or solved here since these are lengthy and complex problems, that would involve both DB groups and any groups working on the apps. 

It does not make sense to make a login feature before the download feature was implemented, therefore there were no further development on it or the rest of the core library.
