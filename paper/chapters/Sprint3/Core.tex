\section{Core library}
\textit{}

\subsection{Pictosearch}
As part of the core library collaboration, our task was to make 'Pictosearch' a part of the core library. 'Pictosearch' should be implemented in a way which will make it easy to update the code with code from the 'Pictosearch' app, because a group were still working on it This were done by using the code from the 'Pictosearch' app, to make an new activity which could be started from any other activity. This ensure an easy implementation for those apps that use the old 'Pictosearch' app, And since the code base is exactly the same as for the 'Pictosearch' app, the Core library can easily be updated by copying the 'Pictosearch' app code into the Core library.


\subsection{Download Pictograms}
An essential part of the Core library is the ability to download pictograms from a database to a local database, so that 'Pictosearch' have some pictograms to search through without having to be connected to the internet. The first idea was to reuse the download functionality implemented in the Giraf launcher, which both creates the the local database and downloads the pictograms. It was later found out that the part of downloading pictograms were trivial but there were a big problem when it came to making a local database which could be managed by multiple apps, this problem will be described in the solution section x.x, but first it will be explained how the Launcher manage the database.

\subsubsection{Launcher}
\textit{In this section it will be explain how the Launcher allows other application to have access to the local database, and why this solution can not be implemented in the Core library.}


When the Launcher first creates the local database, it has ownership over that database. This means that other apps can not access the database, and when the Launcher is uninstalled that database is deleted. To allow others to get data from the database the Launcher has what is called a content provider. The content provider can then access the database for the other apps if these apps has permission, which were set when the content provider was declared.

\subsubsection{Solution}
\textit{In this section there will be presented some solution ideas on how to create an manager a database or multiple databases. Con and Pros for these solution will then be analysed and recommended based on knowledge for where the giraf project is going.}

The optimal solution would be to have one local database which could be accessed by multiple apps, instead of having every single Giraf app make its own database, which would take up a lot of space on a smartphone or tablet where multiple Giraf apps were installed.

The major problem with having a shared database is that only one app can have ownership over that database and that the database is deleted when that app is uninstalled. The simple solution to this problem would be to make the core library a service app like Pictosearch was before it became a library, this way the core library could have a content provider which could be accessed by all the apps that needed pictograms, and then the content provider could be removed from the Launcher, since the launcher does not use pictograms anyway and then there would only be one place to maintain access to the local database. 
This solution would solve all the problems there were with the database. The only problem is that it would give the same problems as Pictosearch had before it became a library. Apps would then never be truly standalone, and if the core library (app) is not installed none of the apps using pictograms would work. Thoug this is an easy solution for the developers it is not an smart or easy solution for the users.

The idea of having a shared app which could access the database is not a good solution, but having a shared database is still the goal. Since Android has no way of implementing a shared database, it would be of interest to look at alternative data storage options. The other data storage options Android has is file storage. With file storage an application can create, update, and delete files on internal memory (smartphones memory) and/or external memory (SD card). Unlike database, file storage allows an app to store data in a public location which would allow other apps to access that data. And when apps are uninstalled, the data is not deleted. This solves the problem with data sharing. But using this solution also means a loss in functionality that the database has, like the ACID properties, which is a set of properties to guarantee that the database s reliable. The loss if these properties opens up for a whole new set of problems when it comes to data manager. One of these problems is, if there is any way to secure data when it comes to concurrent access to the data. These are just some of the problems that could occur when going from database to data files.   
These problems will not be described or solved here since these are problems that could take a whole semester to solve. What can be said is that this could be a good solution if implemented correctly.